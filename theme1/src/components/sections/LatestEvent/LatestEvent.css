/**
 * LatestEvent Component Styles
 * Compact display for the most recent event of a given type
 * Platform brand color driven via --platform-brand-color custom property
 * Alert type colors driven via --token-color-alert-* design tokens
 */

/* Base container */
.latest-event {
  display: flex;
  align-items: center;
  gap: 10px;
  width: 100%;
  min-height: 36px;
  animation: latestEventFadeIn 0.4s ease-out;
}

/* Placeholder state */
.latest-event-placeholder {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 100%;
}

.latest-event-placeholder-text {
  font-size: 12px;
  color: rgba(255, 255, 255, 0.35);
  font-style: italic;
}

/* Content row */
.latest-event-content {
  display: flex;
  align-items: center;
  gap: 10px;
  width: 100%;
}

/* Icon — smaller version of AlertFeed pattern */
.latest-event-icon {
  width: 36px;
  height: 36px;
  flex-shrink: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  position: relative;
  background: linear-gradient(
    135deg,
    var(--platform-brand-color, var(--primary, #00d4ff)),
    color-mix(in srgb, var(--platform-brand-color, var(--primary, #00d4ff)) 70%, black)
  );
  border-radius: 50%;
  padding: 8px;
  box-shadow: 0 0 10px color-mix(in srgb, var(--platform-brand-color, var(--primary, #00d4ff)) 40%, transparent);
}

.latest-event-icon svg {
  width: 100%;
  height: 100%;
  fill: white;
}

.latest-event-icon .platform-letter {
  font-family: var(--font-display, 'Orbitron', sans-serif);
  font-size: 16px;
  font-weight: 900;
  color: white;
  line-height: 1;
  text-transform: uppercase;
}

/* Type badge — small corner indicator */
.latest-event-type-badge {
  position: absolute;
  bottom: -2px;
  right: -2px;
  width: 16px;
  height: 16px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: rgba(0, 0, 0, 0.85);
  border-radius: 50%;
  border: 1.5px solid rgba(255, 255, 255, 0.2);
}

.latest-event-type-badge svg {
  width: 9px;
  height: 9px;
  fill: currentColor;
}

/* Body — user name + detail */
.latest-event-body {
  flex: 1;
  min-width: 0;
  display: flex;
  flex-direction: column;
  gap: 1px;
}

.latest-event-user {
  font-family: var(--font-display, 'Orbitron', sans-serif);
  font-size: 15px;
  font-weight: 700;
  color: #ffffff;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  line-height: 1.2;
}

.latest-event-detail {
  font-size: 11px;
  color: rgba(255, 255, 255, 0.5);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  line-height: 1.2;
}

/* Timestamp */
.latest-event-time {
  font-size: 11px;
  color: rgba(255, 255, 255, 0.35);
  flex-shrink: 0;
  text-align: right;
  min-width: 24px;
}

/* ============================================
   Type-specific styles
   Left border accent + user name color via alert tokens
   ============================================ */

.latest-event-follow {
  border-left: 3px solid var(--token-color-alert-follow, #ff6b9d);
  padding-left: 8px;
}
.latest-event-follow .latest-event-user {
  color: var(--token-color-alert-follow, #ff6b9d);
}

.latest-event-sub {
  border-left: 3px solid var(--token-color-alert-sub, #9b59b6);
  padding-left: 8px;
}
.latest-event-sub .latest-event-user {
  color: var(--token-color-alert-sub, #9b59b6);
}

.latest-event-cheer {
  border-left: 3px solid var(--token-color-alert-cheer, #f1c40f);
  padding-left: 8px;
}
.latest-event-cheer .latest-event-user {
  color: var(--token-color-alert-cheer, #f1c40f);
}

.latest-event-raid {
  border-left: 3px solid var(--token-color-alert-raid, #e74c3c);
  padding-left: 8px;
}
.latest-event-raid .latest-event-user {
  color: var(--token-color-alert-raid, #e74c3c);
}

.latest-event-donation {
  border-left: 3px solid var(--token-color-alert-donation, #2ecc71);
  padding-left: 8px;
}
.latest-event-donation .latest-event-user {
  color: var(--token-color-alert-donation, #2ecc71);
}

.latest-event-redemption {
  border-left: 3px solid var(--token-color-alert-redemption, #3498db);
  padding-left: 8px;
}
.latest-event-redemption .latest-event-user {
  color: var(--token-color-alert-redemption, #3498db);
}

.latest-event-firstword {
  border-left: 3px solid var(--token-color-alert-firstword, #00d4ff);
  padding-left: 8px;
}
.latest-event-firstword .latest-event-user {
  color: var(--token-color-alert-firstword, #00d4ff);
}

/* ============================================
   Animations
   ============================================ */

@keyframes latestEventFadeIn {
  from {
    opacity: 0;
    transform: translateX(-10px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

@keyframes latestEventFlashBg {
  0% {
    background-color: rgba(255, 255, 255, 0.1);
  }
  100% {
    background-color: transparent;
  }
}

.latest-event-flash {
  animation: latestEventFlashBg 0.6s ease-out;
}
